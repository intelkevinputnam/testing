<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<!-- Generated by Sphinx Dita Writer 0.16 -->
<topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="step-5-install-the-image" xml:lang="en-US" outputclass="no-rel-links" ditaarch:DITAArchVersion="1.2" class="- topic/topic ">
    <title class="- topic/title ">Step 5: Install the Image</title>
    <body>
        <div id="tcc-vtune-install-image"/>
        <div id="step-5-install-the-image">
            <p>In this step, you will install the Yocto Project*-based image on the
            target system. The following instructions are for Intel customer
            reference boards.</p>
            <ol>
                <li>
                    <p>Connect the keyboard, monitor, and mouse to the target system.</p>
                </li>
                <li>
                    <p><b>Important</b>: If an image is already installed on the target
                    system’s local drive, follow the instructions in <xref scope="local" format="dita" href="#./tcc-vtune-install-image-remove-boot-partition" class="- topic/xref ">Remove Boot Partition</xref>.</p>
                </li>
                <li>
                    <p>Insert the bootable USB drive in the target system.</p>
                </li>
                <li>
                    <p>Power on the target system by pressing the power button. Press
                    <b>F2</b> to enter the BIOS.</p>
                </li>
                <li>
                    <p>Go to <b>Boot Manager Menu</b> and select the USB drive. The system boots.</p>
                </li>
                <li>
                    <p>Open the terminal.</p>
                </li>
                <li>
                    <p>Check the names and mount points of the drives on your target system:</p>
                    <codeblock>lsblk</codeblock>
                </li>
                <li>
                    <p>Ensure that all partitions of the target’s drive are unmounted.</p>
                </li>
                <li>
                    <p>Go to the USB drive partition where you copied the compressed image
                    file (for example, <codeph>/data</codeph>).</p>
                </li>
                <li>
                    <p>Flash the image to the target’s local drive. Replace
                    <codeph>&lt;target_drive&gt;</codeph> as appropriate, for example, <codeph>mmcblk0</codeph>.</p>
                    <codeblock>bmaptool copy --bmap core-image-sato-sdk-intel-corei7-64-&lt;datetime&gt;.wic.bmap &lt;compressed_image_file&gt;.bz2  /dev/sd&lt;target_drive&gt;</codeblock>
                    <note>
                        <p>It is not necessary to uncompress the image.</p>
                    </note>
                </li>
                <li>
                    <p>Reboot from the target’s local drive.</p>
                </li>
                <li>
                    <p>Remove the USB drive.</p>
                </li>
            </ol>
            <div id="tcc-vtune-install-image-remove-boot-partition"/>
            <div id="remove-boot-partition">
                <p outputclass="h2"><b>Remove Boot Partition</b></p>
                <p>Once an image is installed on the local drive, the target
                system will boot from that drive even when you specify boot from USB.
                This is a known issue.</p>
                <p>In this case, before installing another image on
                the target’s drive, you must remove the boot partition of that drive as
                follows:</p>
                <ol>
                    <li>
                        <p>Boot the target system from the drive.</p>
                    </li>
                    <li>
                        <p>Run lsblk to find the name of the local drive. For example, <codeph>mmcblk0</codeph>.</p>
                        <codeblock>lsblk</codeblock>
                    </li>
                    <li>
                        <p>Run the following command to remove the boot partition from the
                        drive. Replace <codeph>&lt;target_drive&gt;</codeph> as appropriate, for example,
                        <codeph>mmcblk0</codeph>.</p>
                        <codeblock>dd if=/dev/zero of=/dev/&lt;target_drive&gt; bs=512 count=1</codeblock>
                    </li>
                    <li>
                        <p>Reboot the target system.</p>
                        <codeblock>reboot</codeblock>
                    </li>
                </ol>
                <p>After completing these steps, the target system will no longer find the boot partition on the local drive and will boot from USB.</p>
            </div>
        </div>
    </body>
</topic>
